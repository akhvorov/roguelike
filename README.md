# Roguelike
Игра **Roguelike**. Для курса по Software Design.

## Общие сведения о системе
Разрабатываемая система игра в жанре Roguelike. Жанр подразумевает генерацию карты случайным образом, наличие врагов с несколькими стратегиями поведения и персонажа игрока, управляемого с клавиатуры.
В процессе разработке системы предполагается использовать готовые библиотеки взаимодействия с консоль и стандартную библиотеку языка. Таким образом, в границы системы входит -- генератор карт, набор стратегий для врагов и автомат управляющий течением игры.
Система является одиночной игрой, подразумевается использование её одним игроком. Требованием к системе пользователя является наличие Java Virtual Machine не менее 1.8 версии. 

## Architectural drivers
Игра в основном определяется картой. Более того, ни игрок, ни враги действовать без неё не могут. Таким образом существует некоторая явная связь в предметной области между акторами и картой. Её мы выносим в понятие “сессия”. Сессией является объединение карты, акторов и машины управления игрой.
Игры как таковые накладывают некоторые ограничения на акторов. К примеру, если все враги будут видеть неограниченно далеко, то они просто сбегутся к месту нахождения игрока и побьют его числом. Мы абстрагируем понятие “зрения” актора в “ViewArea” -- это своего рода фильтр преобразующий информацию из сессии (о местоположении всех акторов) в ту, что должна быть доступна конкретному актору. Кроме того, такое решение позволяет гибко изменять поля зрения и создавать более интересных врагов.
Поставленная задача требует реализации различных стратегий поведения акторов. Совершенно очевидно, что в таком случае будет удобно использовать паттерн “стратегия” для определения различных моделей поведения врагов.
Желательным требованием является мультиплатформенность игры (ну потому что терминал то везде есть, чего бы ей не быть мультиплатформенной). Поэтому решено использовать JVM как мультиплатформенную среду исполнения и библиотеку совместимую с VT100 протоколом

## Use-case diagram

[![use-case][Use_case_diagram]][Use_case_diagram_url]

## UML class diagram
[![UML][UML_class_diagram]][UML_class_diagram_url]

## Диаграмма конечных автоматов
Программа может находится в следующих состояниях: главное меню или основной режим уровня, в главном меню выбирается уровень из доступных, после, генерируется карта данного уровня. Персонаж делает ход, после чего он может проиграть, выиграть либо ни то ни другое. В первом случае программа переходит в состояние основного меню, в котором остаются все те же уровни, что и были. Во втором случае добавляются новые уровни, и в последнам случае состояние не меняется и программа в ожидании следующего хода.
[![states][MainStateDiogram]][MainStateDiogram_url]


[Use_case_diagram]: https://github.com/akhvorov/roguelike/blob/design-documents/docs/design/Use-Case%20Diagram.png
[Use_case_diagram_url]: https://raw.githubusercontent.com/akhvorov/roguelike/design-documents/docs/design/Use-Case%20Diagram.png
[UML_class_diagram]: https://github.com/akhvorov/roguelike/blob/design-documents/docs/design/UML%20Class%20Diagram.png
[UML_class_diagram_url]: https://raw.githubusercontent.com/akhvorov/roguelike/design-documents/docs/design/UML%20Class%20Diagram.png

[MainStateDiogram]: https://github.com/akhvorov/roguelike/blob/design-documents/docs/design/MainStateDiogram.png
[MainStateDiogram_url]: https://raw.githubusercontent.com/akhvorov/roguelike/design-documents/docs/design/MainStateDiogram.png






